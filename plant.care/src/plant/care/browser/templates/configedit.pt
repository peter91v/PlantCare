<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal" xmlns:i18n="http://xml.zope.org/namespaces/i18n" lang="de"
  metal:use-macro="here/@@plantcare-main-menue/macros/master">
<metal:style_custom fill-slot="style_custom">

  <script type="text/javascript">
  </script>
  <style>
    .mdl-data-table.stripped-table tbody tr:nth-child(2n) {
      background-color: white;
    }

    .mdl-data-table.stripped-table tbody tr:nth-child(2n+1) {
      background-color: rgba(193, 191, 191, 0.54)
    }

    .mdl-textfield__input {
      border: 1px solid rgba(0, 0, 0, 0.12);
    }
    .mdl-textfielderror {
      color: red;
    }    
  </style>
</metal:style_custom>


<head>
</head>

<body>
  <metal:title fill-slot="title">
    <span class="mdl-layout-title">Bearbeiten der Grundeinstellungen</span>
  </metal:title>
  <metal:main fill-slot="main">
    <tal:main-macro metal:define-macro="main">

      <div class="mdl-grid demo-content" tal:define="jsonfile view/get_config_as_string; errormsg view/get_errorMessage">
        <h4>Config edit</h4>
        <div class="mdl-cell mdl-cell--12-col">
          <h4 class="mdl-textfielderror">${errormsg}</h4>
        <p>
          Die config-Daten werden als JSON in der ZODB im Ordner data_container als config.json abgelegt.<br> Pfad =
          <a href="/data_container/config.json" target="_blank">/data_container/config.json</a><br>eine File-Übersicht erhält man mit: /data_container/manage_main<br><br>
          ACHTUNG: Bitte immer eine richtige Json Struktur eintragen. Gibt noch keine Eingabeprüfung!!
        </p>
      </div>
        <div class="mdl-cell mdl-cell--12-col">
          <form action="@@plantcare.configedit" method="post">
            <div class="mdl-textfield mdl-js-textfield">
              <textarea class="mdl-textfield__input" type="text" rows="20" cols="80" id="config_json"
                name="config_json">${jsonfile}</textarea>
              <label class="mdl-textfield__label" for="config_json">Lines...</label>
            </div>
            <p><button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
                type="submit" data-upgraded=",MaterialButton,MaterialRipple">
                Speichern
                <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></button></p>
           </form>
        </div>
      </div>
    </tal:main-macro>
  </metal:main>
</body>

</html>